
# Mini-LSM v1

这是 Mini-LSM 教程的旧版本，我们将不再维护它。我们现在有了这个教程的新版本。我们保留这本书中的旧版本，以便搜索引擎可以保留页面索引，用户可以点击链接访问新版本的教程。

## V1 教程概览

![教程概览](legacy-lsm-tutorial/00-lsm-tutorial-overview.svg)

在本教程中，我们将用 7 天时间构建 LSM 树结构：

* 第 1 天：块编码。SST 由多个数据块组成。我们将实现块编码。
* 第 2 天：SST 编码。
* 第 3 天：MemTable 和合并迭代器。
* 第 4 天：块缓存和引擎。为了减少磁盘 I/O 并最大化性能，我们将使用 moka-rs 为 LSM 树构建块缓存。在这一天，我们将实现一个功能性（但非持久性）的键值引擎，支持 `get`、`put`、`scan`、`delete` 操作。
* 第 5 天：压缩。现在是时候为 SST 维护一个分层结构了。
* 第 6 天：恢复。我们将实现 WAL 和清单，以便引擎在重启后可以恢复。
* 第 7 天：布隆过滤器和键压缩。它们是 LSM 树结构中广泛使用的优化。

## 开发指南

我们为您提供了入门代码（参见 `mini-lsm-starter` crate），我们将所有函数体替换为 `unimplemented!()`。您可以基于此入门代码开始您的项目。我们提供了测试用例，但它们非常简单。我们建议您仔细考虑您的实现并自己编写测试用例。

* 您可以使用 `cargo x scheck` 运行所有测试用例并对您的代码库进行风格检查。
* 您可以使用 `cargo x copy-test dayX` 将测试用例复制到入门代码中。

{{#include copyright.md}}
